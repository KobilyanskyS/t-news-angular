<div class="wrapper wrapper__centered">
    <div class="login-form">
        <div class="login-form__container">
            <h3 class="login-form__title">Вход</h3>
            <form class="login-form__elements" [formGroup]="logInForm" (ngSubmit)="onSubmit()">
                <div class="login-form__inputs">
                    <div class="input-block">
                        <input type="text" name="login" class="login-form__input" placeholder="Логин" formControlName="login">
                        @if (logInForm.get('login')?.hasError('required') && logInForm.get('login')?.touched) {
                            <p class="error">Логин обязателен</p>
                        }
                        @if (logInForm.get('login')?.hasError('pattern') && logInForm.get('login')?.touched) {
                            <p class="error">Логин может состоять только из латинских букв, цифр и _</p>
                        }
                        @if (logInForm.get('login')?.hasError('minLength') && logInForm.get('login')?.touched) {
                             <p class="error">Логин должен состоять минимум из 3 символов</p>
                        }
                        @if (logInForm.get('login')?.hasError('maxLength') && logInForm.get('login')?.touched) {
                             <p class="error">Логин должен состоять максимум из 20 символов</p>
                        }
                    </div>
                    <div class="input-block">
                        <input type="password" name="password" class="login-form__input" placeholder="Пароль" formControlName="password">
                        @if (logInForm.get('password')?.hasError('required') && logInForm.get('password')?.touched) {
                            <p class="error">Пароль обязателен</p>
                        }
                    </div>
                    <div class="input-block">
                        @if (serverError) {
                            <p class="error"> {{ serverError }}</p>
                        }
                    </div>                
                </div>
                <div class="login-form__buttons">
                    <button class="login-form__button" routerLink="/sign-up">Зарегистрироваться</button>
                    <input class="login-form__button login_form_button__log_btn" type="submit" value="Войти">
                </div>
            </form>
        </div>
    </div>
</div>